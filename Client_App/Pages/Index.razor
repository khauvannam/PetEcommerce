@page "/"
@using Client_App.Components.Home
@using Client_App.Domains.Categories.Responses
@using Client_App.Interfaces


<Slider/>

<Discover Categories="Categories"/>

<ScienceBaked/>

<BestSeller/>

@* Customer Stories  (later) *@

<Feature/>

<Collection Categories="Categories"/>

@code {
    public List<Category> Categories = [];
    [Inject] public ICategoryService<Category> CategoryService { get; set; } = null!;

    private readonly List<string> _excludedCategories = ["best-sellers", "all"];

    protected override async Task OnInitializedAsync()
    {
        Categories = (await CategoryService.GetAllAsync()).Where(c => !_excludedCategories.Contains(c.Endpoint)).ToList();
        StateHasChanged();
    }

}